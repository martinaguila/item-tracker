<ion-header>
  <ion-toolbar>
    <ion-row>
      <ion-col size="2">
      </ion-col>
      <ion-col size="8" class="ion-text-center">
        <div class="centered-text">
          Item Tracker
        </div>
      </ion-col>
      <ion-col size="2">
        <ion-menu-button></ion-menu-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-header>
  
<ion-content>
  <ion-item *ngFor="let item of items; let i = index">
    <ion-grid>
      <ion-icon class="delete-icon" name="trash" (click)="deleteItem(i)"></ion-icon>
      <ion-row>
        <ion-col size="7" class="padding-0 border">
          <ion-input [(ngModel)]="item.name" placeholder="Item" (input)="updateTotal()" type="text"></ion-input>
        </ion-col>
        <ion-col size="2.75" class="padding-0 border">
          <ion-input [(ngModel)]="item.price" placeholder="Price" type="number"
                      (ionFocus)="clearPrice(item)" (ionBlur)="resetPrice(item)"
                      (input)="updateTotal()"></ion-input>
        </ion-col>
        <ion-col size="1.5" class="padding-0 border">
          <ion-input [(ngModel)]="item.quantity" placeholder="Qty" type="number"
                      (ionFocus)="clearQuantity(item)" (input)="updateTotal()"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6" class="padding-top-10">
          <ion-label>{{ item.price * item.quantity | currency: 'PHP' }}</ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>

  <ion-item>
    <ion-label>Total Amount:</ion-label>
    <ion-label>{{ totalAmount | currency: 'PHP' }}</ion-label>
  </ion-item>

  <ion-item>
    <ion-button expand="full" (click)="addItem()">Add Item</ion-button>
    <ion-button expand="full" (click)="clearItems()">Clear Items</ion-button>
    <ion-button expand="full" (click)="openSummary()">Open Summary</ion-button>
  </ion-item>
</ion-content>